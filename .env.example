# ==========================================
# COSMIC MEDIA STREAMING PLATFORM
# Microservices Environment Configuration
# ==========================================

# IMPORTANT: This is just an example file.
# For actual deployment:
# - Development: Copy .env.dev to .env (or use .env.dev directly)
# - Production: Copy .env.prod to .env and customize passwords
#
# Docker Compose will read from:
# - Development: .env.dev (specified in docker-compose.dev.yml)
# - Production: .env.prod (specified in docker-compose.prod.yml)

# ==========================================
# DATABASE CONFIGURATION
# ==========================================

# MariaDB Root Password (CHANGE IN PRODUCTION!)
DB_ROOT_PASSWORD=your_strong_root_password_here

# Database Name
DB_DATABASE=platform

# Database User
DB_USERNAME=platform_user

# Database Password (CHANGE IN PRODUCTION!)
DB_PASSWORD=your_strong_database_password_here

# Database Connection
DB_CONNECTION=mysql
DB_HOST=mariadb
DB_PORT=3306

# ==========================================
# REDIS CONFIGURATION
# ==========================================
REDIS_HOST=redis
REDIS_PORT=6379
CACHE_DRIVER=redis
QUEUE_CONNECTION=redis
SESSION_DRIVER=redis
BROADCAST_DRIVER=redis

# ==========================================
# MINIO OBJECT STORAGE
# ==========================================

# MinIO Access Key (Username) (CHANGE IN PRODUCTION!)
MINIO_KEY=minioadmin

# MinIO Secret Key (Password) (CHANGE IN PRODUCTION!)
MINIO_SECRET=your_strong_minio_password_here

# MinIO Bucket Name
MINIO_BUCKET=cosmic-media

# MinIO Configuration
MINIO_ENDPOINT=http://minio:9000
AWS_ACCESS_KEY_ID=${MINIO_KEY}
AWS_SECRET_ACCESS_KEY=${MINIO_SECRET}
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=${MINIO_BUCKET}
AWS_ENDPOINT=http://minio:9000
AWS_USE_PATH_STYLE_ENDPOINT=true

# ==========================================
# APPLICATION CONFIGURATION (Laravel)
# ==========================================

# Application Environment (local, production)
APP_ENV=production

# Debug Mode (true for dev, false for prod)
APP_DEBUG=false

# Application Name
APP_NAME="Cosmic Media Streaming"

# Application URL
APP_URL=http://localhost:8000

# Laravel Application Key (Generate with: php artisan key:generate)
APP_KEY=

# Logging
LOG_CHANNEL=stack
LOG_LEVEL=warning

# ==========================================
# MICROSERVICES URLS
# ==========================================

# Service #2: Generate PDF (Node.js)
GENERATE_PDF_SERVICE_URL=http://generate-pdf:3333

# Service #3: Remote Android Device (Python)
REMOTE_ANDROID_SERVICE_URL=http://remote-android:3001

# HLS Public URL for video streaming
HLS_PUBLIC_URL=http://localhost:3333/hls/

# WebSocket URL
REFRESH_WS_URL=ws://generate-pdf:3335/ws

# ==========================================
# GENERATE PDF SERVICE CONFIGURATION
# ==========================================
NODE_ENV=production
PORT=3333

# ==========================================
# REMOTE ANDROID SERVICE CONFIGURATION
# ==========================================
FLASK_ENV=production
FLASK_DEBUG=0
HOST=0.0.0.0
STATUS_INTERVAL_SECONDS=5
STATUS_WORKERS=20

# ==========================================
# DEPLOYMENT INSTRUCTIONS
# ==========================================

# Development:
#   1. Use .env.dev (already configured with safe defaults)
#   2. Run: ./deploy-dev.sh
#
# Production:
#   1. Copy .env.prod to .env
#   2. Change ALL passwords (DB_ROOT_PASSWORD, DB_PASSWORD, MINIO_SECRET)
#   3. Update APP_URL and HLS_PUBLIC_URL with your domain
#   4. Generate APP_KEY after deployment
#   5. Run: ./deploy-prod.sh

# ==========================================
# NOTES
# ==========================================

# 1. Environment variables are now centralized in .env.dev and .env.prod
# 2. Docker Compose files use env_file directive (no more double configuration!)
# 3. MariaDB and MinIO still use environment: for their specific vars
# 4. Change all default passwords before production deployment!
# 5. Database is shared across all microservices
# 6. All services are connected via 'kiosk-net' network

###### PRODUCTION ENVIRONMENT VARIABLES EXAMPLE ######

# # Production Environment Variables
# # Cosmic Media Streaming Platform - All Microservices

# # ==========================================
# # DATABASE CONFIGURATION
# # ==========================================
# DB_ROOT_PASSWORD=46n8Lx4kOg47
# DB_DATABASE=platform
# DB_USERNAME=kiosk_platform
# DB_PASSWORD=5Kh3dY82ry05
# DB_CONNECTION=mysql
# DB_HOST=mariadb
# DB_PORT=3306

# # ==========================================
# # REDIS CONFIGURATION
# # ==========================================
# REDIS_HOST=redis
# REDIS_PORT=6379
# CACHE_DRIVER=redis
# QUEUE_CONNECTION=redis
# SESSION_DRIVER=redis
# BROADCAST_DRIVER=redis

# # ==========================================
# # MINIO / S3 CONFIGURATION
# # ==========================================
# MINIO_KEY=78E4s6jKeN7fHHeojC
# MINIO_SECRET=bEmxU4PgF0bA9Z8cSe
# MINIO_ACCESS_KEY=78E4s6jKeN7fHHeojC
# MINIO_SECRET_KEY=bEmxU4PgF0bA9Z8cSe
# MINIO_BUCKET=cms
# MINIO_ENDPOINT=http://minio:9000
# MINIO_REGION=us-east-1
# MINIO_URL=https://kiosk.mugshot.dev/minio/cms
# AWS_ACCESS_KEY_ID=78E4s6jKeN7fHHeojC
# AWS_SECRET_ACCESS_KEY=bEmxU4PgF0bA9Z8cSe
# AWS_DEFAULT_REGION=us-east-1
# AWS_BUCKET=cms
# AWS_ENDPOINT=http://minio:9000
# AWS_URL=https://kiosk.mugshot.dev/minio
# AWS_USE_PATH_STYLE_ENDPOINT=true
# FILESYSTEM_DISK=minio

# # ==========================================
# # PUSHER / BROADCASTING CONFIGURATION
# # ==========================================
# PUSHER_APP_KEY=production-key
# PUSHER_HOST=127.0.0.1
# PUSHER_PORT=6001
# PUSHER_SCHEME=http
# PUSHER_APP_CLUSTER=mt1

# # ==========================================
# # APPLICATION CONFIGURATION (Laravel)
# # ==========================================
# APP_ENV=production
# APP_DEBUG=false
# APP_NAME="Cosmic Media Streaming"
# APP_URL=https://kiosk.mugshot.dev
# URL_API=https://kiosk.mugshot.dev/api
# URL_APP=https://kiosk.mugshot.dev
# URL_IMAGE=https://kiosk.mugshot.dev
# URL_PDF=https://kiosk.mugshot.dev
# SERVICE_FFMPEG=https://kiosk.mugshot.dev
# APP_TIMEZONE=Asia/Jakarta
# APP_KEY=base64:t7/GS8Zk8tNGziTdBx7XuccGqK2f6oGrYcivkDPR9Ww=
# DEBUGBAR_ENABLED=false
# SESSION_DOMAIN=.mugshot.dev
# SESSION_SECURE_COOKIE=false
# SESSION_LIFETIME=10080
# SANCTUM_STATEFUL_DOMAINS=kiosk.mugshot.dev
# LOG_CHANNEL=stack
# LOG_DEPRECATIONS_CHANNEL=null
# LOG_LEVEL=debug

# # ==========================================
# # MICROSERVICES URLs
# # ==========================================
# GENERATE_PDF_SERVICE_URL=https://kiosk.mugshot.dev/generate-pdf-internal
# REMOTE_ANDROID_SERVICE_URL=http://remote-android:3001
# HLS_PUBLIC_URL=https://kiosk.mugshot.dev/hls/
# REFRESH_WS_URL=ws://generate-pdf:3335/ws

# # ==========================================
# # MAIL CONFIGURATION
# # ==========================================
# MAIL_MAILER=smtp
# MAIL_HOST=mailpit
# MAIL_PORT=1025
# MAIL_USERNAME=null
# MAIL_PASSWORD=null
# MAIL_ENCRYPTION=null
# MAIL_FROM_ADDRESS="hello@example.com"
# MAIL_FROM_NAME="${APP_NAME}"

# # ==========================================
# # VITE (Frontend Build)
# # ==========================================
# VITE_APP_NAME="${APP_NAME}"
# VITE_PUSHER_APP_KEY="${PUSHER_APP_KEY}"
# VITE_PUSHER_HOST="${PUSHER_HOST}"
# VITE_PUSHER_PORT="${PUSHER_PORT}"
# VITE_PUSHER_SCHEME="${PUSHER_SCHEME}"
# VITE_PUSHER_APP_CLUSTER="${PUSHER_APP_CLUSTER}"

# # ==========================================
# # GENERATE PDF SERVICE (Node.js)
# # ==========================================
# NODE_ENV=production
# PORT=3333
# SERVICE_REMOTE_DEVICE=https://kiosk.mugshot.dev/android

# # ==========================================
# # REMOTE ANDROID SERVICE (Python)
# # ==========================================
# FLASK_ENV=production
# FLASK_DEBUG=0
# HOST=0.0.0.0
# STATUS_INTERVAL_SECONDS=5
# STATUS_WORKERS=20


###### DEVELOPMENT ENVIRONMENT VARIABLES EXAMPLE ######
# # Development Environment Variables
# # Cosmic Media Streaming Platform - All Microservices

# # ==========================================
# # DATABASE CONFIGURATION
# # ==========================================
# DB_ROOT_PASSWORD=root_password_dev
# DB_DATABASE=platform
# DB_USERNAME=platform_user
# DB_PASSWORD=platform_password_dev
# DB_CONNECTION=mysql
# DB_HOST=mariadb
# DB_PORT=3306

# # ==========================================
# # REDIS CONFIGURATION
# # ==========================================
# REDIS_HOST=redis
# REDIS_PORT=6379
# CACHE_DRIVER=redis
# QUEUE_CONNECTION=redis
# SESSION_DRIVER=redis
# BROADCAST_DRIVER=redis

# # ==========================================
# # MINIO / S3 CONFIGURATION
# # ==========================================
# MINIO_KEY=JcGNW4N33zi2
# MINIO_SECRET=od25CGNVT609
# MINIO_ACCESS_KEY=JcGNW4N33zi2
# MINIO_SECRET_KEY=od25CGNVT609
# MINIO_BUCKET=cms
# MINIO_ENDPOINT=http://minio:9000
# MINIO_REGION=us-east-1
# AWS_ACCESS_KEY_ID=JcGNW4N33zi2
# AWS_SECRET_ACCESS_KEY=od25CGNVT609
# AWS_DEFAULT_REGION=us-east-1
# AWS_BUCKET=cms
# AWS_ENDPOINT=http://minio:9000
# AWS_USE_PATH_STYLE_ENDPOINT=true
# FILESYSTEM_DISK=minio

# # ==========================================
# # PUSHER / BROADCASTING CONFIGURATION
# # ==========================================
# PUSHER_APP_KEY=local-dev-key
# PUSHER_HOST=127.0.0.1
# PUSHER_PORT=6001
# PUSHER_SCHEME=http
# PUSHER_APP_CLUSTER=mt1
# BROADCAST_DRIVER=log

# # ==========================================
# # APPLICATION CONFIGURATION (Laravel)
# # ==========================================
# APP_ENV=local
# APP_DEBUG=true
# APP_NAME="Cosmic Media Streaming Dev"
# APP_URL=http://localhost:8000
# APP_KEY=
# LOG_CHANNEL=stack
# LOG_LEVEL=debug

# # ==========================================
# # MICROSERVICES URLs
# # ==========================================
# GENERATE_PDF_SERVICE_URL=http://generate-pdf:3333
# REMOTE_ANDROID_SERVICE_URL=http://remote-android:3001
# HLS_PUBLIC_URL=http://localhost:3333/hls/
# REFRESH_WS_URL=ws://generate-pdf:3335/ws

# # ==========================================
# # GENERATE PDF SERVICE (Node.js)
# # ==========================================
# NODE_ENV=development
# PORT=3333

# # ==========================================
# # REMOTE ANDROID SERVICE (Python)
# # ==========================================
# FLASK_ENV=development
# FLASK_DEBUG=1
# HOST=0.0.0.0
# STATUS_INTERVAL_SECONDS=3
# STATUS_WORKERS=20
